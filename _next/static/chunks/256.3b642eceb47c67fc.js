"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[256],{256:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(4848),a=n(3481),i=n.n(a),l=n(6540);function o(e,t){return Object.freeze({...e,...t})}let u=(0,l.createContext)(null);function c(){let e=(0,l.use)(u);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}let s=(0,l.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:c,style:s,whenReady:f,zoom:d,...p},g){let[h]=(0,l.useState)({className:i,id:o,style:s}),[m,v]=(0,l.useState)(null),w=(0,l.useRef)(void 0);(0,l.useImperativeHandle)(g,()=>m?.map??null,[m]);let x=(0,l.useCallback)(r=>{if(null!==r&&!w.current){let i=new a.Map(r,p);w.current=i,null!=n&&null!=d?i.setView(n,d):null!=e&&i.fitBounds(e,t),null!=f&&i.whenReady(f),v(Object.freeze({__version:1,map:i}))}},[]);(0,l.useEffect)(()=>()=>{m?.map.remove()},[m]);let y=m?l.createElement(u,{value:m},r):c??null;return l.createElement("div",{...h,ref:x},y)});var f=n(961);function d(e){return(0,l.forwardRef)(function(t,n){let{instance:r,context:a}=e(t).current;(0,l.useImperativeHandle)(n,()=>r);let{children:i}=t;return null==i?null:l.createElement(u,{value:a},i)})}function p(e,t){let n=(0,l.useRef)(t);(0,l.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function g(e,t){let n=(0,l.useRef)(void 0);(0,l.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function h(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function m(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function v(e,t){return null==t?function(t,n){let r=(0,l.useRef)(void 0);return r.current||(r.current=e(t,n)),r}:function(n,r){let a=(0,l.useRef)(void 0);a.current||(a.current=e(n,r));let i=(0,l.useRef)(n),{instance:o}=a.current;return(0,l.useEffect)(function(){i.current!==n&&(t(o,n,i.current),i.current=n)},[o,n,t]),a}}function w(e,t){(0,l.useEffect)(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function x(e){return function(t){let n=c(),r=e(h(t,n),n);return p(n.map,t.attribution),g(r.current,t.eventHandlers),w(r.current,n),r}}let y=function(e,t){var n;return n=x(v(e,t)),(0,l.forwardRef)(function(e,t){let{instance:r}=n(e).current;return(0,l.useImperativeHandle)(t,()=>r),null})}(function({url:e,...t},n){return m(new a.TileLayer(e,h(t,n)),n)},function(e,t,n){!function(e,t,n){let{opacity:r,zIndex:a}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=a&&a!==n.zIndex&&e.setZIndex(a)}(e,t,n);let{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)}),b=function(e,t){var n;return d((n=v(e,t),function(e){let t=c(),r=n(h(e,t),t);return g(r.current,e.eventHandlers),w(r.current,t),function(e,t){let n=(0,l.useRef)(void 0);(0,l.useEffect)(function(){if(t.pathOptions!==n.current){let r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}},[e,t])}(r.current,e),r}))}(function({center:e,children:t,...n},r){let i=new a.Circle(e,n);return m(i,o(r,{overlayContainer:i}))},function(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)}),k=d(x(v(function({position:e,...t},n){let r=new a.Marker(e,t);return m(r,o(n,{overlayContainer:r}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}))),C=function(e,t){var n,r;return n=v(e),r=function(e,r){let a=c(),i=n(h(e,a),a);return p(a.map,e.attribution),g(i.current,e.eventHandlers),t(i.current,a,e,r),i},(0,l.forwardRef)(function(e,t){let[n,a]=(0,l.useState)(!1),{instance:i}=r(e,a).current;(0,l.useImperativeHandle)(t,()=>i),(0,l.useEffect)(function(){n&&i.update()},[i,n,e.children]);let o=i._contentNode;return o?(0,f.createPortal)(e.children,o):null})}(function(e,t){return m(new a.Popup(e,t.overlayContainer),t)},function(e,t,{position:n},r){(0,l.useEffect)(function(){let{instance:a}=e;function i(e){e.popup===a&&(a.update(),r(!0))}function l(e){e.popup===a&&r(!1)}return t.map.on({popupopen:i,popupclose:l}),null==t.overlayContainer?(null!=n&&a.setLatLng(n),a.openOn(t.map)):t.overlayContainer.bindPopup(a),function(){t.map.off({popupopen:i,popupclose:l}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(a)}},[e,t,r,n])});var E=n(1468);let j={"Guest Houses":["./../assets/iconPack2/guesthouse.svg","#d9c8bf"],"Home Stay Units":["./../assets/iconPack2/homestay.svg","#f98284"],Hotels:["./../assets/iconPack2/hotel.svg","#b0a9e4"],Bungalows:["./../assets/iconPack2/bungalow.svg","#fff7a0"],"Rented Apartments":["./../assets/iconPack2/apartment.svg","#b3e3da"],"Rented Homes":["./../assets/iconPack2/rentedHome.svg","#feaae4"],"Heritage Bungalows":["./../assets/iconPack2/heritageBungalow.svg","#b0eb93"],"Heritage Homes":["./../assets/iconPack2/heritageHome.svg","#accce4"]};var R=n(6);let H=()=>{let[e,t]=(0,l.useState)({width:void 0,height:void 0});return(0,l.useEffect)(()=>{{let e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}},[]),e};function L(e){let t,n,a,{accommodations:o,location:u,radius:f}=e,d=(0,E.wA)(),p=(0,E.d4)(e=>e.typeFilter.typeFilter),g=(t=15,n=11,((a=H()).width<=a.height&&(t-=1,n-=1),f>=11750)?n:f<=0?t:Math.round(t-(f-0)/11750*(t-n))),h=e=>{let[t,n]=j[e],r='\n      <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">\n        <circle cx="15" cy="15" r="15" fill="'.concat(n,'" />\n        <image className="accom-svg-icon" href="').concat(t,'" x="5" y="5" height="20" width="20" fill="#000" />\n      </svg>\n    ');return i().divIcon({html:r,className:"",iconSize:[30,30],iconAnchor:[15,30]})},m=[];if(u){let e=o.findIndex(e=>e.distance>f);-1===e?m.push(...o):m.push(...o.slice(0,e))}function v(e){return e.replace(/(\w)(\w*)/g,(e,t,n)=>t+n.toLowerCase())}let w=e=>{switch(e){case"★★★★★":case"★★★★☆":case"A":case"DELUXE":return"bg-green-100 text-green-800 dark:text-green-100 dark:bg-green-800";case"★★★☆☆":case"B":case"SUPERIOR":return"bg-yellow-100 text-yellow-800 dark:text-yellow-100 dark:bg-yellow-800";case"★★☆☆☆":case"★☆☆☆☆":case"C":case"STANDARD":return"bg-red-100 text-red-800 dark:text-red-100 dark:bg-red-800";default:return"bg-indigo-100 text-indigo-800 dark:text-indigo-100 dark:bg-indigo-800"}};return(0,l.useEffect)(()=>{d((0,R.rr)(m))}),(0,r.jsxs)(s,{center:u?[u.lat,u.lng]:[7.8731,80.7718],zoom:u?13:8,style:{height:"100%",minHeight:"100%"},attributionControl:!1,children:[(0,r.jsx)(y,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),u&&(0,r.jsxs)("div",{children:[(0,r.jsx)(b,{center:[u.lat,u.lng],radius:f,color:"#6366f1",fillColor:"#6366f1",fillOpacity:.2}),(0,r.jsx)(b,{center:[u.lat,u.lng],radius:f<1e4?f:1e4,stroke:!1,fillColor:"#6366f1",fillOpacity:.2}),(0,r.jsx)(b,{center:[u.lat,u.lng],radius:f<2e4?f:2e4,stroke:!1,fillColor:"#6366f1",fillOpacity:.2})]}),u&&m.filter(e=>p.includes(e.Type)).map((e,t)=>(0,r.jsx)(k,{position:[e.Latitude,e.Longitude],icon:h(e.Type),children:(0,r.jsxs)(C,{className:"leaflet-popup-content-wrapper",children:[(0,r.jsxs)("svg",{className:"popup-accom-image",width:"30",height:"30",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"15",cy:"15",r:"15",fill:j[e.Type][1]}),(0,r.jsx)("image",{xlinkHref:j[e.Type][0],x:"5",y:"5",height:"20",width:"20",fill:"#000"})]}),(0,r.jsx)("h5",{className:"pt-2 text-2xl font-semibold tracking-tight text-gray-900 dark:text-white",children:v(e.Name)}),(0,r.jsx)("p",{className:"popup-content-address font-normal text-gray-700 dark:text-gray-400",children:v(e.Address)}),(0,r.jsxs)("p",{className:"popup-content font-normal text-gray-700 dark:text-gray-400",children:["Rooms: ",e.Rooms]}),(0,r.jsxs)("p",{className:"popup-content font-normal text-gray-700 dark:text-gray-400",children:["Grade: ",(0,r.jsxs)("span",{className:w(e.Grade)+" px-1 rounded",children:[" ",(0,r.jsx)("b",{children:e.Grade})]})]})]})},t)),(0,r.jsx)(e=>{let{location:t}=e,n=c().map;return(0,l.useEffect)(()=>{t&&n.setView([t.lat,t.lng],g)},[t,n]),null},{location:u})]})}}}]);